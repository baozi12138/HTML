<html>

<head>
</head>

<body>
    <canvas id="canvas" width="1000" height="750" style="margin: 0px;border:1px solid #ccc;"></canvas>
    <script>
        var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext("2d");
        /*ctx.moveTo(0, 0);
        function LineToX(x1, y1, angle, distance) {
            var radian = angle * Math.PI / 180;
            var x2 = x1 + distance * Math.cos(radian);
            return x2;
        }
        function LineToY(x1, y1, angle, distance) {
            var radian = angle * Math.PI / 180;
            var y2 = y1 + distance * Math.sin(radian);
            return y2;
        }
        ctx.strokeStyle = "#FF0000";
        ctx.lineTo(LineToX(0, 0, 30, 100), LineToY(0, 0, 30, 100));
        ctx.stroke();*/

        var x, y, angle;


        function line(distance, lineWidth) {

            var radian = angle * Math.PI / 180;
            var x2 = x + distance * Math.cos(radian);
            var y2 = y + distance * Math.sin(radian);
            ctx.beginPath();
            ctx.moveTo(x, y);
            ctx.strokeStyle = "#008800";
            ctx.lineWidth = lineWidth;
            ctx.lineCap = "round";
            ctx.lineTo(x2, y2);
            ctx.stroke();
            x = x2;
            y = y2;
        }
        /*for (var i = 0; i < 3; i++) {
            angle = angle -45;
        };*/
        x = 500, y = 750, angle = -90;
        //line(100, 20);

        function tree(level, width, length) {

            line(length, width);

            if (level > 1) {
                angle = angle - 45;
                if (Math.random() < 0.8) {
                    tree(level - 1, width * (Math.random() * 0.2 + 0.7), length * (Math.random() * 0.2 + 0.7));
                }
                angle = angle + 90;
                if (Math.random() < 0.8) {
                    tree(level - 1, width * (Math.random() * 0.2 + 0.7), length * (Math.random() * 0.2 + 0.7));
                }
                angle = angle - 45;
            }

            line(-length, width);
        }
        tree(15, 25, 150);

        /*x = 200, y = 200, angle = -45;
        line(100);
        x = 200, y = 200, angle = 90;
        line(125);*/

    </script>
</body>

</html>